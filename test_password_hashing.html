<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Hashing Test</title>
</head>
<body>
    <h1>Password Hashing Test</h1>
    <div>
        <label for="password">Enter Password:</label>
        <input type="text" id="password" value="D!neo345">
        <button onclick="testHashing()">Test Hash</button>
    </div>
    <div id="result"></div>

    <script src="js/encryption.js"></script>
    <script>
        async function testHashing() {
            const password = document.getElementById('password').value;
            const resultDiv = document.getElementById('result');
            
            try {
                console.log('Testing password:', password);
                
                // Test the hashing function
                const hash = await window.encryption.hashPassword(password);
                
                console.log('Generated hash:', hash);
                console.log('Hash length:', hash.length);
                
                // Expected hash for 'D!neo345'
                const expectedHash = '500075cdb58dd8ff2f410baed74f0eacc47c43a5c7dd7ea60f9297d224e1cf9e';
                
                resultDiv.innerHTML = `
                    <h3>Hashing Results:</h3>
                    <p><strong>Input Password:</strong> ${password}</p>
                    <p><strong>Generated Hash:</strong> ${hash}</p>
                    <p><strong>Hash Length:</strong> ${hash.length} characters</p>
                    <p><strong>Expected Hash:</strong> ${expectedHash}</p>
                    <p><strong>Hash Match:</strong> ${hash === expectedHash ? '✅ YES' : '❌ NO'}</p>
                    <p><strong>Is Valid SHA-256:</strong> ${hash.match(/^[a-f0-9]{64}$/) ? '✅ YES' : '❌ NO'}</p>
                    <p><strong>Is UUID Format:</strong> ${hash.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/) ? '✅ YES' : '❌ NO'}</p>
                `;
                
            } catch (error) {
                resultDiv.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
                console.error('Hashing error:', error);
            }
        }
        
        // Test immediately when page loads
        window.addEventListener('load', () => {
            testHashing();
        });
    </script>
</body>
</html>
